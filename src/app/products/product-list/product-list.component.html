<h1>Listado de Productos</h1>

<button mat-stroked-button color="primary" (click)="add()">Nuevo Producto</button>

<table mat-table [dataSource]="products" class="mat-elevation-z8" style="width: 100%; margin-top: 10px;">

  <!-- ID -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let p"> {{ p.id }} </td>
  </ng-container>

  <!-- Descripción -->
  <ng-container matColumnDef="descripcion">
    <th mat-header-cell *matHeaderCellDef> Descripción </th>
    <td mat-cell *matCellDef="let p"> {{ p.descripcion }} </td>
  </ng-container>

  <!-- Costo Compra -->
  <ng-container matColumnDef="costoCompra">
    <th mat-header-cell *matHeaderCellDef> Costo Compra </th>
    <td mat-cell *matCellDef="let p"> {{ p.costoCompra | currency }} </td>
  </ng-container>

  <!-- Estado -->
  <ng-container matColumnDef="estado">
    <th mat-header-cell *matHeaderCellDef> Estado </th>
    <td mat-cell *matCellDef="let p"> {{ p.estado === 1 ? 'Activo' : 'Inactivo' }} </td>
  </ng-container>

  <!-- Existencia -->
  <ng-container matColumnDef="existencia">
    <th mat-header-cell *matHeaderCellDef> Existencia </th>
    <td mat-cell *matCellDef="let p"> {{ p.existencia }} </td>
  </ng-container>

  <!-- Foto Producto -->
  <ng-container matColumnDef="fotoProducto">
    <th mat-header-cell *matHeaderCellDef> Foto </th>
    <td mat-cell *matCellDef="let p">
      <img *ngIf="p.fotoProducto" [src]="p.fotoProducto" alt="Foto producto" width="50" />
    </td>
  </ng-container>

  <!-- ID Categoría -->
  <ng-container matColumnDef="idCategoria">
    <th mat-header-cell *matHeaderCellDef> Categoría </th>
    <td mat-cell *matCellDef="let p"> {{ p.idCategoria }} </td>
  </ng-container>

  <!-- Precio Venta Actual -->
  <ng-container matColumnDef="precioVentaActual">
    <th mat-header-cell *matHeaderCellDef> Precio Venta Actual </th>
    <td mat-cell *matCellDef="let p"> {{ p.precioVentaActual | currency }} </td>
  </ng-container>

  <!-- Precio Venta Anterior -->
  <ng-container matColumnDef="precioVentaAnterior">
    <th mat-header-cell *matHeaderCellDef> Precio Venta Anterior </th>
    <td mat-cell *matCellDef="let p"> {{ p.precioVentaAnterior | currency }} </td>
  </ng-container>

  <!-- Referencia -->
  <ng-container matColumnDef="referencia">
    <th mat-header-cell *matHeaderCellDef> Referencia </th>
    <td mat-cell *matCellDef="let p"> {{ p.referencia }} </td>
  </ng-container>

  <!-- Stock Máximo -->
  <ng-container matColumnDef="stockMaximo">
    <th mat-header-cell *matHeaderCellDef> Stock Máximo </th>
    <td mat-cell *matCellDef="let p"> {{ p.stockMaximo }} </td>
  </ng-container>

  <!-- Tiene IVA -->
  <ng-container matColumnDef="tieneIva">
    <th mat-header-cell *matHeaderCellDef> Tiene IVA </th>
    <td mat-cell *matCellDef="let p"> {{ p.tieneIva === 1 ? 'Sí' : 'No' }} </td>
  </ng-container>

  <!-- Acciones -->
  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef> Acciones </th>
    <td mat-cell *matCellDef="let p">
      <button mat-button color="primary" (click)="edit(p.id)">Editar</button>
      <button mat-button color="warn" (click)="remove(p.id)">Eliminar</button>
    </td>
  </ng-container>

  <!-- Definición de filas -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>
